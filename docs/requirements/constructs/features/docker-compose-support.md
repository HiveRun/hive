# Docker & Compose Support

## Goal
Enable constructs to use Docker containers and Docker Compose for services alongside regular process-based services.

## Key Requirements
- For `type: "docker"` services, Synthetic runs `docker run` with declared `image`, `command` (optional), `ports`, `env`, and `volumes`.
- Port requests pick an open host port, map it to the declared container port, and expose the value through the configured env name.
- Volume paths support `${constructDir}` templating so persistent data lives alongside the construct workspace.
- Docker services use deterministic container names (`synthetic-{constructId}-{serviceName}`) so stop commands can be autogenerated when omitted.
- For `type: "compose"`, point to a Compose file (`composePath`) and optional service filter.
- Synthetic parses the Compose file, injects templated variables (including generated ports/env vars), and starts the selected services with the same status tracking/ready detection pipeline.
- When Compose is involved, generated per-service shims expose the same lifecycle hooks (ready pattern, stop) to keep the UI consistent.